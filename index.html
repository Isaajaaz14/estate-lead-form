<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Free Property Valuation Estimate</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#f6f7fb;color:#111}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:720px;background:#fff;border:1px solid #e6e8ef;border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.06);padding:28px}
    h1{margin:0 0 8px;font-size:28px}
    p{margin:0 0 16px;line-height:1.45;color:#333}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .full{grid-column:1 / -1}
    label{display:block;font-size:13px;color:#444;margin:6px 0}
    input,select{width:100%;padding:10px 12px;border:1px solid #ccd3e0;border-radius:10px;font-size:15px}
    input:focus,select:focus{outline:2px solid #c7d2fe;border-color:#93a4ff}
    .btn{margin-top:14px;width:100%;padding:12px 14px;border:0;border-radius:12px;background:#111;color:#fff;font-size:16px;cursor:pointer}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .note{font-size:12px;color:#555;margin-top:10px}
    .success{display:none;padding:14px;border-radius:12px;background:#ecfdf5;border:1px solid #a7f3d0;color:#065f46;margin-top:14px}
    .error{display:none;padding:14px;border-radius:12px;background:#fef2f2;border:1px solid #fecaca;color:#991b1b;margin-top:14px}
    @media (max-width:720px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Get a Free Property Valuation Estimate by Email</h1>
      <p>Answer a few quick questions and we’ll email you an indicative valuation range and suggested asking price.</p>

      <form id="leadForm">
        <div class="grid">
          <div>
            <label for="postcode">Postcode *</label>
            <input id="postcode" name="postcode" required placeholder="e.g. NG1 2AB" />
          </div>

          <div>
            <label for="property_type">Property type *</label>
            <select id="property_type" name="property_type" required>
              <option value="">Select…</option>
              <option>House</option>
              <option>Flat</option>
              <option>Bungalow</option>
              <option>Other</option>
            </select>
          </div>

          <div>
            <label for="bedrooms">Bedrooms *</label>
            <select id="bedrooms" name="bedrooms" required>
              <option value="">Select…</option>
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5+</option>
            </select>
          </div>

          <div>
            <label for="condition">Condition *</label>
            <select id="condition" name="condition" required>
              <option value="">Select…</option>
              <option>Excellent</option>
              <option>Good</option>
              <option>Average</option>
              <option>Needs Work</option>
            </select>
          </div>

          <div>
            <label for="renovations">Renovations *</label>
            <select id="renovations" name="renovations" required>
              <option value="">Select…</option>
              <option>None</option>
              <option>Minor</option>
              <option>Major</option>
            </select>
          </div>

          <div>
            <label for="timeline">Timeline to sell *</label>
            <select id="timeline" name="timeline" required>
              <option value="">Select…</option>
              <option>0–3 months</option>
              <option>3–6 months</option>
              <option>6–12 months</option>
              <option>Just curious</option>
            </select>
          </div>

          <div class="full">
            <label>Already using another agent? *</label>
            <label style="display:inline-flex;gap:8px;align-items:center;margin-right:14px;">
              <input type="radio" name="other_agent" value="Yes" required /> Yes
            </label>
            <label style="display:inline-flex;gap:8px;align-items:center;">
              <input type="radio" name="other_agent" value="No" required /> No
            </label>
          </div>

          <div>
            <label for="full_name">Full name *</label>
            <input id="full_name" name="full_name" required placeholder="Your name" />
          </div>

          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required placeholder="you@email.com" />
          </div>

          <div class="full">
            <label for="phone">Phone (optional)</label>
            <input id="phone" name="phone" placeholder="07..." />
          </div>
        </div>

        <button class="btn" id="submitBtn" type="submit">Email My Valuation Estimate</button>

        <div class="success" id="successBox">
          ✅ Thanks — your estimate is being prepared. You’ll receive it by email in the next few minutes.
        </div>
        <div class="error" id="errorBox">
          ❌ Something went wrong. Please try again in a moment.
        </div>

        <div class="note">
          Estimates are indicative and not a formal valuation. We only contact you if you request it.
        </div>
      </form>
    </div>
  </div>

  <script>
    const WEBHOOK_URL = "https://hook.eu1.make.com/ne8h9ji2tu80ur2obgk44uaxwwcnhb6u"; // Zapier/Make webhook
    const form = document.getElementById("leadForm");
    const btn = document.getElementById("submitBtn");
    const successBox = document.getElementById("successBox");
    const errorBox = document.getElementById("errorBox");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      successBox.style.display = "none";
      errorBox.style.display = "none";
      btn.disabled = true;

      const data = Object.fromEntries(new FormData(form).entries());

      try {
        const res = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        if (!res.ok) throw new Error("Webhook failed");

        form.reset();
        successBox.style.display = "block";
      } catch (err) {
        console.error(err);
        errorBox.style.display = "block";
      } finally {
        btn.disabled = false;
      }
    });
  </script>
</body>
</html>
